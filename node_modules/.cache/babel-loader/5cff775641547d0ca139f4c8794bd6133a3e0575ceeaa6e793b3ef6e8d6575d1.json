{"ast":null,"code":"var _jsxFileName = \"/Users/volkanulutas/Documents/Projects/bacrm-frontend/src/components/ProtectedRoutes.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { Navigate, Outlet } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useAuth = () => {\n  //get item from localstorage\n\n  let user;\n  const _user = localStorage.getItem(\"user\");\n  if (_user) {\n    user = JSON.parse(_user);\n    console.log(\"user\", user);\n  }\n  if (user) {\n    return {\n      auth: true,\n      role: user.role\n    };\n  } else {\n    return {\n      auth: false,\n      role: null\n    };\n  }\n};\n\n//protected Route state\n\nconst ProtectedRoutes = props => {\n  _s();\n  const {\n    auth,\n    role\n  } = useAuth();\n\n  //if the role required is there or not\n  if (props.roleRequired) {\n    return auth ? props.roleRequired === role ? /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/denied\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, this);\n  } else {\n    return auth ? /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 30\n    }, this);\n  }\n};\n_s(ProtectedRoutes, \"YghbvoNYVxBxVP2XFCiv0s9ErXo=\", false, function () {\n  return [useAuth];\n});\n_c = ProtectedRoutes;\nexport default ProtectedRoutes;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoutes\");","map":{"version":3,"names":["React","Navigate","Outlet","jsxDEV","_jsxDEV","useAuth","user","_user","localStorage","getItem","JSON","parse","console","log","auth","role","ProtectedRoutes","props","_s","roleRequired","fileName","_jsxFileName","lineNumber","columnNumber","to","_c","$RefreshReg$"],"sources":["/Users/volkanulutas/Documents/Projects/bacrm-frontend/src/components/ProtectedRoutes.tsx"],"sourcesContent":["import React from \"react\"\n\nimport {Navigate, Outlet} from \"react-router-dom\"\n\nconst useAuth = () => {\n\t//get item from localstorage\n\n\tlet user: any\n\n\tconst _user = localStorage.getItem(\"user\")\n\n\tif (_user) {\n\t\tuser = JSON.parse(_user)\n\t\tconsole.log(\"user\", user)\n\t}\n\tif (user) {\n\t\treturn {\n\t\t\tauth: true,\n\t\t\trole: user.role,\n\t\t}\n\t} else {\n\t\treturn {\n\t\t\tauth: false,\n\t\t\trole: null,\n\t\t}\n\t}\n}\n\n//protected Route state\ntype ProtectedRouteType = {\n\troleRequired?: \"ADMIN\" | \"USER\"\n}\n\nconst ProtectedRoutes = (props: ProtectedRouteType) => {\n\tconst {auth, role} = useAuth()\n\n\t//if the role required is there or not\n\tif (props.roleRequired) {\n\t\treturn auth ? (\n\t\t\tprops.roleRequired === role ? (\n\t\t\t\t<Outlet />\n\t\t\t) : (\n\t\t\t\t<Navigate to=\"/denied\" />\n\t\t\t)\n\t\t) : (\n\t\t\t<Navigate to=\"/login\" />\n\t\t)\n\t} else {\n\t\treturn auth ? <Outlet /> : <Navigate to=\"/login\" />\n\t}\n}\n\nexport default ProtectedRoutes\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAAQC,QAAQ,EAAEC,MAAM,QAAO,kBAAkB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,OAAO,GAAGA,CAAA,KAAM;EACrB;;EAEA,IAAIC,IAAS;EAEb,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EAE1C,IAAIF,KAAK,EAAE;IACVD,IAAI,GAAGI,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC;IACxBK,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEP,IAAI,CAAC;EAC1B;EACA,IAAIA,IAAI,EAAE;IACT,OAAO;MACNQ,IAAI,EAAE,IAAI;MACVC,IAAI,EAAET,IAAI,CAACS;IACZ,CAAC;EACF,CAAC,MAAM;IACN,OAAO;MACND,IAAI,EAAE,KAAK;MACXC,IAAI,EAAE;IACP,CAAC;EACF;AACD,CAAC;;AAED;;AAKA,MAAMC,eAAe,GAAIC,KAAyB,IAAK;EAAAC,EAAA;EACtD,MAAM;IAACJ,IAAI;IAAEC;EAAI,CAAC,GAAGV,OAAO,CAAC,CAAC;;EAE9B;EACA,IAAIY,KAAK,CAACE,YAAY,EAAE;IACvB,OAAOL,IAAI,GACVG,KAAK,CAACE,YAAY,KAAKJ,IAAI,gBAC1BX,OAAA,CAACF,MAAM;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAEVnB,OAAA,CAACH,QAAQ;MAACuB,EAAE,EAAC;IAAS;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CACxB,gBAEDnB,OAAA,CAACH,QAAQ;MAACuB,EAAE,EAAC;IAAQ;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CACvB;EACF,CAAC,MAAM;IACN,OAAOT,IAAI,gBAAGV,OAAA,CAACF,MAAM;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAAGnB,OAAA,CAACH,QAAQ;MAACuB,EAAE,EAAC;IAAQ;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACpD;AACD,CAAC;AAAAL,EAAA,CAjBKF,eAAe;EAAA,QACCX,OAAO;AAAA;AAAAoB,EAAA,GADvBT,eAAe;AAmBrB,eAAeA,eAAe;AAAA,IAAAS,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}